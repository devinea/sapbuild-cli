<div ng-controller="SettingsCtrl">
    <ui-dialog id="auth-settings-modal"
               modal="true"
               title="Profile for {{getCurrentUser().name}}"
               cancel-text="Cancel"
               cancel-action="onDialogCancel()"
               close-text="Save"
               close-action="onDialogSave()"
               close-action-type="submit"
               disable-close="!canSave()">
        <div class="settings-modal-content" layout="row" layout-align="start start">
            <div class="settings-menu">
                <ul class="settings-menu-parent">
                    <li id="menu-contactInfo" class="settings-menu-item" ng-class="{selected: isSelectedMenuItem('ContactInfo')}" ng-click="selectMenuItem('ContactInfo')">Contact Info</li>
                    <li id="menu-photo" class="settings-menu-item" ng-class="{selected: isSelectedMenuItem('Photo')}" ng-click="selectMenuItem('Photo')">Photo</li>
                    <li id="menu-changePassword" ng-if="getCurrentUser().provider === 'local'" class="settings-menu-item" ng-class="{selected: isSelectedMenuItem('ChangePassword')}" ng-click="selectMenuItem('ChangePassword')">Change Password</li>
                </ul>
            </div>
	        <form name="forms.general" novalidate>
	            <div class="settings-content">
	                <div ng-show=isSelectedMenuItem('ContactInfo') class="setting-switch-content" id="contactInfo">
	                    <ng-include src="'resources/norman-auth-client/profile/basic-info.html'"/>
	                </div>
	                <div ng-show=isSelectedMenuItem('Photo') id="photo">
	                    <ng-include src="'resources/norman-auth-client/avatar/avatar.html'"/>
	                </div>
	                <div ng-show=isSelectedMenuItem('ChangePassword') class="setting-switch-content" id="changePassword">
	                    <ng-include src="'resources/norman-auth-client/profile/password.html'"/>
	                </div>
	            </div>
	        </form>
        </div>
    </ui-dialog>
</div>

