<div class="login-wrapper animated fadeIn" flex>

    <div class="login-head">
        <div class="login-signup">Existing user? <a href="/login">Sign In</a></div>
        <a href="/" class="norman-logo"><div class="build-mascot"></div><div class="build-type-ffffff" ng-if="!isAdminConsole"></div><div class="build-type" ng-if="isAdminConsole"></div></a>
    </div>

    <h1>Join BUILD</h1>

    <div class="login-form-wrapper">

        <div class="login-form-error animated" ng-show="formHasErrors" ng-class="{fadeIn: formHasErrors}">
            <p class="login-form-error-icon" ng-show="errors.other">{{ errors.other }}</p>
        </div>


        <div class="login-form-success animated" ng-show="info" ng-class="{fadeIn: info}">
            <p class="login-form-success-icon" ng-show="info">{{ info }}</p>
        </div>

        <div class="login-form">
            <form name="form" ng-submit="register(form)" novalidate>

                <label>Your name:</label>

                <div class="login-field-wrap" ng-class="{'has-error':(form.name.$error.required) && submitted}">
                    <div class="login-error-tooltip animated"
                         ng-show="form.name.$error.required && (submitted || userWasInNameBox)"
                         ng-class="{fadeIn: form.name.$error.required}">This is required
                    </div>
                    <div class="login-error-tooltip animated"
                         ng-show="form.name.$error.minlength && userWasInNameBox"
                         ng-class="{fadeIn: form.name.$error.minlength}">Your name is too short
                    </div>
                    <div class="login-error-tooltip animated"
                         ng-show="form.name.$error.maxlength && userWasInNameBox"
                         ng-class="{fadeIn: form.name.$error.maxlength}">Your name is too long
                    </div>
                    <input type="text" name="name" ng-model="user.name" required="" tabindex="1"
                           class="animated" ng-class="{shake: form.name.$error.required && submitted}"
                           ng-blur="userWasInNameBox=true" nn-focus="true"
                           ng-minlength="3" ng-maxlength="120">

                    <p class="info-block">Your team members will see this name</p>
                </div>

                <label>Your email address:</label>

                <div class="login-field-wrap"
                     ng-class="{'has-error':(form.email.$error.required || form.email.$error.mongoose) && submitted}">
                    <div class="login-error-tooltip animated"
                         ng-show="form.email.$error.required && (submitted || userWasInEmailBox)"
                         ng-class="{fadeIn: form.email.$error.required}">This is required
                    </div>
                    <div class="login-error-tooltip animated"
                         ng-show="emailIsInvalid()"
                         ng-class="{fadeIn: form.email.$error.email}">This is not a valid email
                    </div>

                    <div class="login-error-tooltip animated"
                         ng-show="form.email.$error.mongoose && submitted"
                         ng-class="{fadeIn: form.email.$error.mongoose}">Email already registered
                    </div>

                    <input type="email" name="email" ng-model="user.email" required="" tabindex="2"
                           class="animated" ng-class="{shake: (form.email.$error.required && submitted) || emailIsInvalid()}"
                           ng-change="clearFieldErrors(form, 'email')"
                           ng-blur="userWasInEmailBox=true"
                           additional-email-validation>

                    <p class="info-block"></p>
                </div>

                <label>Your password:</label>

                <div class="login-field-wrap " ng-class="{'has-error':form.password.$error.required && submitted}">
                    <div class="login-error-tooltip animated"
                         ng-show="form.password.$error.required && submitted"
                         ng-class="{fadeIn: form.password.$error.required}">This is required
                    </div>

                    <input type="password" name="password" ng-model="user.password" required="" tabindex="3"
                           class="animated before-password-policy"
                           ng-class="{shake: form.password.$error.required && submitted}"
                           ng-change="clearFieldErrors(form, 'password')">
                    <password-policy class="info-block policy-signup" reference="user.password"
                                     policy="policy"></password-policy>
                </div>

                <button type="submit" class="login-btn login-btn-submit signup-button" tabindex="5">Join</button>
            </form>
        </div>

        <div ng-include src="'resources/norman-auth-client/assets/social-buttons.html'"
             ng-hide="hideSocialButtons"></div>
    </div>

    <div ng-include src="'resources/norman-auth-client/assets/footer.html'"></div>
</div>
