<div novalidate id="auth-settings-password">

    <div layout="row" layout-align="start start">
        <ui-input-container>
            <label class="dark first-label">Current Password</label>
            <input class="ui-input dark"
                   type="password"
                   name="oldPassword"
                   ng-model="user.oldPassword"
                   placeholder="Type current password"
                   ng-change="errorCheck(forms.general.oldPassword)"
                   required>

            <div ng-messages="forms.general.oldPassword.$error" ng-if="forms.general.oldPassword.$dirty">
                <div ng-message="required">This is required!</div>
            </div>
        </ui-input-container>
    </div>

    <div layout="row" layout-align="start start">
        <ui-input-container>
            <label class="dark">New Password</label>
            <input class="ui-input dark"
                   type="password"
                   name="newPassword"
                   ng-model="user.newPassword"
                   placeholder="Type new password"
                   ng-change="errorCheck(forms.general.newPassword)"
                   required>

            <div ng-messages="forms.general.newPassword.$error" ng-if="forms.general.newPassword.$dirty">
                <div ng-message="required">This is required!</div>
            </div>
        </ui-input-container>
    </div>

    <div layout="row" layout-align="start start">
        <password-policy class="policy-profile" reference="user.newPassword" policy="policy"></password-policy>
    </div>

    <div layout="row" layout-align="start start">
        <ui-input-container>
            <label class="dark">Confirm New Password</label>
            <input class="ui-input dark"
                   type="password"
                   name="confirmNewPassword"
                   ng-model="user.confirmNewPassword"
                   placeholder="Re-type new password"
                   ng-change="errorCheck(forms.general.confirmNewPassword)"
                   ui-password-match ui-new-password="{{user.newPassword}}"
                   required>

            <div ng-messages="forms.general.confirmNewPassword.$error" ng-if="forms.general.confirmNewPassword.$dirty">
                <div ng-message="required">This is required!</div>
                <div ng-message="passwordmatch">Passwords do not match</div>
            </div>
        </ui-input-container>
    </div>
</div>
