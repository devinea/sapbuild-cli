<div layout="row" layout-align="start start" class="first-row">
    <h1>{{question.interactive ? 'Task' : 'Annotation' }} Totals</h1>
</div>
<div layout="row" layout-align="start start" ng-if="!question.interactive" class="stats-container">
    <div layout="column" layout-align="start start" class="actions col">
        <div layout="row" layout-align="start start">
            <div class="action icon-big-participant" ui-tooltip ui-tooltip-title="Participants" ui-tooltip-side="bottom"></div>
            <span class="big" id="stats-participant-count">{{statistics.participants}}</span>
        </div>
    </div>
    <div layout="column" layout-align="start start" class="actions col">
        <div layout="row" layout-align="start start">
            <div class="action icon-big-clock" ui-tooltip ui-tooltip-title="Time" ui-tooltip-side="bottom"></div>
            <div layout="column">
                <span class="big" ng-bind-html="statistics.averageDuration | AverageDurationFilter"></span>
                <span class="tiny">AVG. FOR PAGE</span>
            </div>
        </div>
    </div>
    <div layout="column" layout-align="start start" class="actions col">
        <div layout="row" layout-align="start start">
            <div class="action icon-big-annotation" ui-tooltip ui-tooltip-title="Annotations" ui-tooltip-side="bottom"></div>
            <span class="big" id="stats-annotations-count">{{statistics.annotations}}</span>
        </div>
    </div>
    <div layout="column" layout-align="start start" class="actions col">
        <div layout="row" layout-align="start start">
            <div class="action icon-big-comments" ui-tooltip ui-tooltip-title="Comments" ui-tooltip-side="bottom"></div>
            <span class="big" id="stats-comments-count">{{statistics.comments}}</span>
        </div>
    </div>
</div>
<div layout="row" layout-align="start start" ng-if="!question.interactive" class="stats-container">
    <div layout="column" ng-if="statistics.sentiments.positive.total > 0 || statistics.sentiments.neutral.total > 0 || statistics.sentiments.negative.total > 0">
        <div layout="row" layout-align="center start" class="chart-row">
            <div layout="column" layout-align="center center" class="chart">
                <ui-pie-chart values-set="statistics.sentiments.chart" color-list="sentimentChartColor"></ui-pie-chart>
                <div layout="row" class="statistics-chart-footer">Annotation Sentiment</div>
            </div>
            <div layout="column" layout-align="center start" class="chart-data">
                <ui-toolbar layout="column" class="actions">
                    <div class="tasks">
                        <div class="action icon-face-smile"></div>
                        <div class="text-left-sentiment" id="stats-positive-total">{{statistics.sentiments.positive.total}} <small id="stats-positive-total-percentage">{{statistics.sentiments.positive.percentage}}%</small></div>
                    </div>
                    <div class="tasks">
                        <div class="action icon-face-normal"></div>
                        <div class="text-left-sentiment" id="stats-neutral-total">{{statistics.sentiments.neutral.total}} <small id="stats-nuetral-total-percentage">{{statistics.sentiments.neutral.percentage}}%</small></div>
                    </div>
                    <div class="tasks">
                        <div class="action icon-face-sad"></div>
                        <div class="text-left-sentiment" id="stats-negative-total">{{statistics.sentiments.negative.total}} <small id="stats-negative-total-percentage">{{statistics.sentiments.negative.percentage}}%</small></div>
                    </div>
                </ui-toolbar>
            </div>
        </div>
    </div>
    <div layout="column" ng-if="statistics.type === 'Freeform'">
        <div layout="row" layout-align="center start" class="chart-row" ng-if="statistics.freeformSentiment.positive.total > 0 || statistics.freeformSentiment.neutral.total > 0 || statistics.freeformSentiment.negative.total > 0">
            <div layout="column" layout-align="center center" class="chart">
                <ui-pie-chart values-set="statistics.freeformSentiment.chart" color-list="sentimentChartColor"></ui-pie-chart>
                <div layout="row" class="statistics-chart-footer">Answer Sentiment</div>
            </div>
            <div layout="column" layout-align="center start" class="chart-data">
                <ui-toolbar layout="column" class="actions">
                    <div class="tasks">
                        <div class="action icon-face-smile"></div>
                        <div class="text-left-sentiment" id="stats-freeform-positive-total">{{statistics.freeformSentiment.positive.total}} <small id="stats-freeform-positive-percentage">{{statistics.freeformSentiment.positive.percentage}}%</small></div>
                    </div>
                    <div class="tasks">
                        <div class="action icon-face-normal"></div>
                        <div class="text-left-sentiment" id="stats-freeform-nuetral-total">{{statistics.freeformSentiment.neutral.total}} <small id="stats-freeform-nuetral-percentage">{{statistics.freeformSentiment.neutral.percentage}}%</small></div>
                    </div>
                    <div class="tasks">
                        <div class="action icon-face-sad"></div>
                        <div class="text-left-sentiment" id="stats-freeform-negative-total">{{statistics.freeformSentiment.negative.total}} <small id="stats-freeform-negative-percentage">{{statistics.freeformSentiment.negative.percentage}}%</small></div>
                    </div>
                </ui-toolbar>
            </div>
        </div>
    </div>
</div>








<div layout="row" ng-if="question.interactive" class="stats-container">
    <div layout="column" layout-align="start start">
        <div layout="row" layout-align="start start" class="actions medium">
            <div class="action icon-big-participant" ui-tooltip ui-tooltip-title="Participants" ui-tooltip-side="bottom"></div>
            <span class="big" id="stats-participant-count">{{statistics.participants}}</span>
        </div>
        <div layout="row" layout-align="start start" class="actions big">
            <div class="action icon-big icon-bunny" ui-tooltip ui-tooltip-side="bottom"
                ui-tooltip-content="Quickest completion time">
            </div>
            <div layout="column" class="smallCol">
                <span  id="stats-quickest-time" class="top medium" ng-bind-html="statistics.fastestDurationComment | AverageDurationFilter"></span>
            </div>
        </div>
        <div layout="row" layout-align="start start" class="actions medium">
            <div class="action icon-big-annotation" ui-tooltip ui-tooltip-title="Annotations" ui-tooltip-side="bottom"></div>
            <span class="big" id="stats-annotations-count">{{statistics.annotations}}</span>
        </div>
    </div>
    <div layout="column" layout-align="start start">
        <div layout="row" layout-align="start start" class="actions medium">
            <div class="action icon-big-clock" ui-tooltip ui-tooltip-title="Time" ui-tooltip-side="bottom"></div>
            <div layout="column">
                <span id="stats-average-time" class="big" ng-bind-html="statistics.medianDurationPage | AverageDurationFilter"></span>
                <span class="tiny">AVG. FOR PAGE</span>
            </div>
        </div>
        <div layout="row" layout-align="start start" class="actions big">
            <div class="action icon-big icon-turtle" ui-tooltip ui-tooltip-side="bottom"
                ui-tooltip-content="Slowest completion time">
            </div>
            <div layout="column" class="smallCol">
                <span id="stats-slowest-time" class="top medium" ng-bind-html="statistics.slowestDurationComment | AverageDurationFilter"></span>
            </div>
        </div>
        <div layout="row" layout-align="start start" class="actions medium">
            <div class="action icon-big-comments" ui-tooltip ui-tooltip-title="Comments" ui-tooltip-side="bottom"></div>
            <span class="big" id="stats-comments-count">{{statistics.comments}}</span>
        </div>
    </div>
    <div layout="column" layout-align="start start">
        <div layout="row" layout-align="start start" class="actions medium">
            <div class="action icon-big-avg-time" ui-tooltip ui-tooltip-title="Pages Visited" ui-tooltip-side="bottom"></div>
            <div layout="column">
                <span id="stats-page-visited" class="big" ng-bind="statistics.averagePagesVisited"></span>
                <span class="tiny">AVG. PAGES</span>
            </div>
        </div>
        <div layout="row" layout-align="center center" class="actions">
            <div layout="column" class="chart">
                <ui-pie-chart values-set="statistics.chart" color-list="taskChartColor"></ui-pie-chart>
            </div>
            <div layout="column" layout-align="center start" class="chart-data">
                <ui-toolbar layout="column" class="actions column-size">
                    <div class="tasks col">
                        <div class="action icon-small-green-tick statistics-task"></div>
                        <div class="text-left-sentiment" id="stats-successful-total">{{statistics.successful.total}} <small id="stats-successful-percentage">{{statistics.successful.percentage}}%</small></div>
                    </div>
                    <div class="tasks col">
                        <div class="action icon-small-red-cross statistics-task"></div>
                        <div class="text-left-sentiment" id="stats-failed-total">{{statistics.failed.total}} <small id="stats-failed-percentage">{{statistics.failed.percentage}}%</small></div>
                    </div>
                    <div class="tasks col">
                        <div class="action icon-small-trash statistics-task"></div>
                        <div class="text-left-sentiment" id="stats-abandoned-total">{{statistics.abandoned.total}} <small id="stats-abandoned-percentage">{{statistics.abandoned.percentage}}%</small></div>
                    </div>
                </ui-toolbar>
            </div>
        </div>
        <div layout="row" layout-align="center center" class="actions">
            <div layout="column" class="chart">
                <ui-pie-chart values-set="statistics.sentiments.chart" color-list="sentimentChartColor"></ui-pie-chart>
            </div>
            <div layout="column" layout-align="center start" class="chart-data">
                <ui-toolbar layout="column" class="actions">
                    <div class="tasks">
                        <div class="action icon-face-smile"></div>
                        <div class="text-left-sentiment" id="stats-positive-sentiment-total">{{statistics.sentiments.positive.total}} <small id="stats-positive-sentiment-percentage">{{statistics.sentiments.positive.percentage}}%</small></div>
                    </div>
                    <div class="tasks">
                        <div class="action icon-face-normal"></div>
                        <div class="text-left-sentiment" id="stats-nuetral-sentiment-total">{{statistics.sentiments.neutral.total}} <small id="stats-nuetral-sentiment-percentage">{{statistics.sentiments.neutral.percentage}}%</small></div>
                    </div>
                    <div class="tasks">
                        <div class="action icon-face-sad"></div>
                        <div class="text-left-sentiment" id="stats-negative-sentiment-total">{{statistics.sentiments.negative.total}} <small id="stats-negative-sentiment-percentage">{{statistics.sentiments.negative.percentage}}%</small></div>
                    </div>
                </ui-toolbar>
            </div>
        </div>
    </div>
</div>

<div layout="row" layout-fill>
    <div layout="row"><h1>Participant breakdown</h1></div>
    <div ng-if="false" layout="row" class="export-data">Export Question Data</div>
</div>

<question-participant-breakdown ng-model="statistics.participantBreakdown" ng-Type="question.type" ng-if="!question.interactive"> </question-participant-breakdown>
<task-participant-breakdown ng-model="statistics.participantBreakdown" ng-if="question.interactive"> </task-participant-breakdown>
