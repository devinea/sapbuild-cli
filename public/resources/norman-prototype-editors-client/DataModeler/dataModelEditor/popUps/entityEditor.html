<ui-popup id="entityEditorModal" placement="left" offset-x="-7" offset-y="135"
          class="dark dm-propertyEditor" pass-through="true" on-close="controller.onClose()">
    <div class="dm-propertyEditor-content">
        <ui-tabs selected-tab="informations" class="dm-propEditorEditor-popup">
            <ui-tab-option id="informations" title="Info">
                <table class="dm-popup-table">
                    <tr>
                        <td>Entity</td>
                        <td>
                            <ui-input size="small"
                                      dark type="text"
                                      id="entity"
                                      ng-model="controller.entity.name"
                                      ng-change="controller.needToUpdateEntity=true;"
                                      ng-value="controller.entity.name">
                            </ui-input>
                        </td>
                    </tr>
                    <tr>
                        <td>Read-Only</td>
                        <td>
                            <ui-toggle ng-change="controller.needToUpdateEntity=true;"
                                       ng-model="controller.entity.isReadOnly"></ui-toggle>
                        </td>
                    </tr>
                </table>
                <div ng-if="controller.entity.groups.length != 0 && !controller.groupDisabled" class="dm-popup-groupList">
                <div>Groups</div>
                    <div class="dm-popup-groupItem" ng-repeat="group in controller.entity.groups">
                        <ui-input size="small"
                                  dark type="text"
                                  ng-blur="controller.updateGroup(group)"
                                  ng-value="group.name"
                                  ng-model="group.name">
                        </ui-input>
                        <div class="dm-delete dmsvg-remove"
                             ng-click="controller.removeGroup(controller.entity._id, group, $index);">
                        </div>
                    </div>
                </div>

            </ui-tab-option>

        </ui-tabs>
    </div>
</ui-popup>
